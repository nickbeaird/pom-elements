name: Run Checks
on: push

jobs:
  main:
    name: Main
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@master
      - uses: actions/setup-python@v1
      - uses: dschep/install-poetry-action@v1.3

      - name: Poetry
        run: poetry install

      - name: Type-check
        run: poetry run mypy

      - name: Black
        run: poetry run black --target-version py38 . --check

      - name: Flake8
        run: poetry run flake8

      - name: Generate Docs
        run: pdoc --html --output-dir docs pom_elements --force
