name: Merge Master

on:
  pull_request:
    branches:
      - master
jobs:
  job2_pr:
    name: Merge into master
    runs-on: ubuntu-latest
    steps:
      # This step checks out a copy of your repository.
      - uses: actions/checkout@v2
        # This step references the directory that contains the action.
        # - uses: ./.github/actions/publish-docs.sh
        run: mkdir tmp-docs
      - uses: actions/setup-python@v1
      - name: Set up Python
        with:
          python-version: "3.8.2"
      - name: Install dependencies
        run: |
          pdoc --config show_inherited_members=True --html --output-dir tmp-docs pom_elements --force
      - name: Deploy ðŸš€
        uses: JamesIves/github-pages-deploy-action@releases/v3
        with:
          ACCESS_TOKEN: ${{ secrets.DEPLOY_TOKEN }}
          BRANCH: gh-pages # The branch the action should deploy to.
          FOLDER: tmp-docs # The folder the action should deploy.
